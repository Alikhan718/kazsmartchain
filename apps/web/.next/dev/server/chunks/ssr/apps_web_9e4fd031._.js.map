{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///srv/apps/web/lib/env.ts"],"sourcesContent":["export const API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:4000';\r\nexport const DEV_TOKEN = 'dev:demo-bank:OrgAdmin';\r\nexport const RELAY_BASE = process.env.NEXT_PUBLIC_RELAY_BASE_URL || 'http://localhost:4100';\r\n\r\n\r\n"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,WAAW,6DAAwC;AACzD,MAAM,YAAY;AAClB,MAAM,aAAa,6DAA0C","debugId":null}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///srv/apps/web/app/orgs/%5Bid%5D/contracts/page.tsx"],"sourcesContent":["'use client';\r\nimport React, { useState } from 'react';\r\nimport { API_BASE, DEV_TOKEN } from '../../../../lib/env';\r\n\r\nexport default function ContractsPage({ params }: { params: Promise<{ id: string }> }) {\r\n  const [name, setName] = useState('');\r\n  const [address, setAddress] = useState('');\r\n  const [abi, setAbi] = useState('[]');\r\n  const [eventName, setEventName] = useState('');\r\n  const [resp, setResp] = useState<string | null>(null);\r\n\r\n  async function register() {\r\n    const org = await params;\r\n    const body = { name, address, abi };\r\n    const res = await fetch(`${API_BASE}/api/besu/firefly/${org.id}/contracts/interfaces`, {\r\n      method: 'POST',\r\n      headers: { 'content-type': 'application/json', authorization: `Bearer ${DEV_TOKEN}` },\r\n      body: JSON.stringify(body),\r\n    }).then((r) => r.json());\r\n    setResp(JSON.stringify(res));\r\n  }\r\n\r\n  async function createListener() {\r\n    const org = await params;\r\n    const body = { name: `${name}:${eventName}`, topics: [eventName] };\r\n    const res = await fetch(`${API_BASE}/api/besu/firefly/${org.id}/events/streams`, {\r\n      method: 'POST',\r\n      headers: { 'content-type': 'application/json', authorization: `Bearer ${DEV_TOKEN}` },\r\n      body: JSON.stringify(body),\r\n    }).then((r) => r.json());\r\n    setResp(JSON.stringify(res));\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <h3 className=\"text-lg font-semibold\">Контракты и события</h3>\r\n      <div className=\"grid md:grid-cols-2 gap-4\">\r\n        <div className=\"border border-gray-800 rounded p-3 bg-gray-900 space-y-2\">\r\n          <div className=\"font-medium\">Publish ABI</div>\r\n          <input className=\"border border-gray-700 rounded p-2 bg-gray-900 w-full\" placeholder=\"name\" value={name} onChange={(e) => setName(e.target.value)} />\r\n          <input className=\"border border-gray-700 rounded p-2 bg-gray-900 w-full\" placeholder=\"address (optional)\" value={address} onChange={(e) => setAddress(e.target.value)} />\r\n          <textarea className=\"border border-gray-700 rounded p-2 bg-gray-900 w-full h-40\" value={abi} onChange={(e) => setAbi(e.target.value)} />\r\n          <button onClick={register} className=\"px-3 py-2 rounded bg-indigo-600 text-white\">Register</button>\r\n        </div>\r\n        <div className=\"border border-gray-800 rounded p-3 bg-gray-900 space-y-2\">\r\n          <div className=\"font-medium\">Create Listener</div>\r\n          <input className=\"border border-gray-700 rounded p-2 bg-gray-900 w-full\" placeholder=\"event name\" value={eventName} onChange={(e) => setEventName(e.target.value)} />\r\n          <button onClick={createListener} className=\"px-3 py-2 rounded bg-green-600 text-white\">Create</button>\r\n        </div>\r\n      </div>\r\n      {resp && <pre className=\"text-xs bg-gray-900 border border-gray-800 rounded p-3 whitespace-pre-wrap\">{resp}</pre>}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIe,SAAS,cAAc,EAAE,MAAM,EAAuC;IACnF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAC;IAC/B,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAgB;IAEhD,eAAe;QACb,MAAM,MAAM,MAAM;QAClB,MAAM,OAAO;YAAE;YAAM;YAAS;QAAI;QAClC,MAAM,MAAM,MAAM,MAAM,GAAG,qIAAQ,CAAC,kBAAkB,EAAE,IAAI,EAAE,CAAC,qBAAqB,CAAC,EAAE;YACrF,QAAQ;YACR,SAAS;gBAAE,gBAAgB;gBAAoB,eAAe,CAAC,OAAO,EAAE,sIAAS,EAAE;YAAC;YACpF,MAAM,KAAK,SAAS,CAAC;QACvB,GAAG,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI;QACrB,QAAQ,KAAK,SAAS,CAAC;IACzB;IAEA,eAAe;QACb,MAAM,MAAM,MAAM;QAClB,MAAM,OAAO;YAAE,MAAM,GAAG,KAAK,CAAC,EAAE,WAAW;YAAE,QAAQ;gBAAC;aAAU;QAAC;QACjE,MAAM,MAAM,MAAM,MAAM,GAAG,qIAAQ,CAAC,kBAAkB,EAAE,IAAI,EAAE,CAAC,eAAe,CAAC,EAAE;YAC/E,QAAQ;YACR,SAAS;gBAAE,gBAAgB;gBAAoB,eAAe,CAAC,OAAO,EAAE,sIAAS,EAAE;YAAC;YACpF,MAAM,KAAK,SAAS,CAAC;QACvB,GAAG,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI;QACrB,QAAQ,KAAK,SAAS,CAAC;IACzB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAwB;;;;;;0BACtC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAc;;;;;;0CAC7B,8OAAC;gCAAM,WAAU;gCAAwD,aAAY;gCAAO,OAAO;gCAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;0CAChJ,8OAAC;gCAAM,WAAU;gCAAwD,aAAY;gCAAqB,OAAO;gCAAS,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;0CACpK,8OAAC;gCAAS,WAAU;gCAA6D,OAAO;gCAAK,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;;;;;;0CACnI,8OAAC;gCAAO,SAAS;gCAAU,WAAU;0CAA6C;;;;;;;;;;;;kCAEpF,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAc;;;;;;0CAC7B,8OAAC;gCAAM,WAAU;gCAAwD,aAAY;gCAAa,OAAO;gCAAW,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;;;;;;0CAChK,8OAAC;gCAAO,SAAS;gCAAgB,WAAU;0CAA4C;;;;;;;;;;;;;;;;;;YAG1F,sBAAQ,8OAAC;gBAAI,WAAU;0BAA8E;;;;;;;;;;;;AAG5G","debugId":null}}]
}